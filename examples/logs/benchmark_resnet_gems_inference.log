[a100-04.cluster:mpi_rank_0][rdma_param_handle_heterogeneity] All nodes involved in the job were detected to be homogeneous in terms of processors and interconnects. Setting MV2_HOMOGENEOUS_CLUSTER=1 can improve job startup performance on such systems. The following link has more details on enhancing job startup performance. http://mvapich.cse.ohio-state.edu/performance/job-startup/.
[a100-04.cluster:mpi_rank_0][rdma_param_handle_heterogeneity] To suppress this warning, please set MV2_SUPPRESS_JOB_STARTUP_PERFORMANCE_WARNING to 1
[a100-04.cluster:mpi_rank_0][MPID_Init] [Performance Suggestion]: Application has requested for multi-thread capability. If allocating memory from different pthreads/OpenMP threads, please consider setting MV2_USE_ALIGNED_ALLOC=1 for improved performance.
Use MV2_USE_THREAD_WARNING=0 to suppress this error message.
***********Total GPU Memory on Rank 3 : ['40960 MiB', '40960 MiB']*******
***********Total GPU Memory on Rank 2 : ['40960 MiB', '40960 MiB']*******
***********Total GPU Memory on Rank 0 : ['40960 MiB', '40960 MiB']*******
***********Total GPU Memory on Rank 1 : ['40960 MiB', '40960 MiB']*******
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
Running Evaluation ...
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
Running Evaluation ...
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
Running Evaluation ...
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
Running Evaluation ...
images per sec:0.3349607880803026
images per sec:0.6944926024499515
images per sec:0.7143080737826527
images per sec:0.7143408993126387
Global loss: 2.8779678344726562 Acc 0.25
Max Memory Before on rank 3 Using PyTorch CUDA: 0.00 MB
Max Memory Afteron on rank 3 Using PyTorch CUDA: 3126.94 MB
Max Memory Before on rank 2 Using PyTorch CUDA: 0.00 MB
Max Memory Afteron on rank 2 Using PyTorch CUDA: 3485.24 MB
Max Memory Before on rank 1 Using PyTorch CUDA: 0.00 MB
Max Memory Afteron on rank 1 Using PyTorch CUDA: 3485.24 MB
images per sec:0.7257470091285366
Max Memory Before on rank 0 Using PyTorch CUDA: 0.00 MB
Max Memory Afteron on rank 0 Using PyTorch CUDA: 3126.94 MB
Mean 0.6367698745508165 Median 0.7143080737826527
[a100-04.cluster:mpi_rank_0][rdma_param_handle_heterogeneity] All nodes involved in the job were detected to be homogeneous in terms of processors and interconnects. Setting MV2_HOMOGENEOUS_CLUSTER=1 can improve job startup performance on such systems. The following link has more details on enhancing job startup performance. http://mvapich.cse.ohio-state.edu/performance/job-startup/.
[a100-04.cluster:mpi_rank_0][rdma_param_handle_heterogeneity] To suppress this warning, please set MV2_SUPPRESS_JOB_STARTUP_PERFORMANCE_WARNING to 1
[a100-04.cluster:mpi_rank_0][MPID_Init] [Performance Suggestion]: Application has requested for multi-thread capability. If allocating memory from different pthreads/OpenMP threads, please consider setting MV2_USE_ALIGNED_ALLOC=1 for improved performance.
Use MV2_USE_THREAD_WARNING=0 to suppress this error message.
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
/home/gulhane.2/github_torch_gems/MPI4DL/src/models/resnet.py:265: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
  x = F.softmax(self.fc1(x))
Running Evaluation ...
Running Evaluation ...
Running Evaluation ...
Running Evaluation ...
images per sec:0.34745090135346374
images per sec:0.7168773062565135
images per sec:0.7307612298340409
images per sec:0.7120559450673871
Global loss: 2.8682839274406433 Acc 0.25
images per sec:0.715850513774792
Mean 0.6445991792572394 Median 0.715850513774792
